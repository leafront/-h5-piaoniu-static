<!DOCTYPE html>
<html data-time="<%= htmlWebpackPlugin.options.getTime%>">
  <head>
	  <meta charset="utf-8">
	  <meta http-equiv="x-dns-prefetch-control" content="on"/>
	  <link rel="dns-prefetch" href="<%= htmlWebpackPlugin.options.staticPath %>"/>
	  <meta http-equiv="cache-control" content="no-store">
	  <meta http-equiv="cache-control" content="no-cache">
	  <meta http-equiv="expires" content="0">
	  <meta http-equiv=pragma content=no-cache>
	  <meta content="telephone=no" name="format-detection">
	  <meta name="applicable-device"content="mobile">
	  <meta name="apple-mobile-web-app-title" content="票牛">
	  <meta name="apple-mobile-web-app-capable" content="yes">
	  <meta name="apple-mobile-web-app-status-bar-style" content="white">
	  <meta name="theme-color" content="#ff6900">
	  <link rel="apple-touch-icon-precomposed" href="<%=htmlWebpackPlugin.options.staticPath%>/static/images/touch-icon-iphone.png" />
	  <link rel="apple-touch-startup-image" href="<%=htmlWebpackPlugin.options.staticPath%>/static/images/touch-icon-iphone.png" />
	  <link href="<%=htmlWebpackPlugin.options.staticPath%>/static/images/touch-icon-iphone.png" rel="Shortcut Icon" type="image/x-icon" />
	  <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
    <meta name="description" content="票牛网秉持【买得到,买得放心,买得实惠】的票务服务理念,票源充足,满足您对【热门票】和【折扣票】的需求,告别抢票烦恼。票牛北京站为您提供最新北京演出信息,包括演唱会,音乐会,话剧歌剧,体育赛事,相声小品,舞蹈芭蕾,儿童亲子活动等。"/><meta data-n-head="true" data-hid="keywords" name="keywords" content="北京演出门票,北京演唱会门票,北京音乐会门票,北京体育赛事门票,北京话剧门票"/>
    <title>北京演唱会,话剧，体育赛事【订票】-票牛网</title>
    <script type="text/javascript">
      (function (win,doc) {
        var flex = function flex() {
          var ua = navigator.userAgent;
          var matches = ua.match(/Android[\S\s]+AppleWebkit\/(\d{3})/i);
          var UCversion = ua.match(/U3\/((\d+|\.){5,})/i);
          var isUCHd = UCversion && parseInt(UCversion[1].split('.').join(''), 10) >= 80;
          var isIos = navigator.appVersion.match(/(iphone|ipad|ipod)/gi);
          var dpr = win.devicePixelRatio || 1;
          if (!isIos && !(matches && matches[1] > 534) && !isUCHd) {
            // 如果非iOS, 非Android4.3以上, 非UC内核, 就不执行高清, dpr设为1;
            dpr = 1;
          }
          var scale =  1 / dpr;
          var metaEl = doc.querySelector('meta[name="viewport"]');
          if (!metaEl) {
            metaEl = doc.createElement('meta');
            metaEl.setAttribute('name', 'viewport');
            doc.head.appendChild(metaEl);
          }
          var docElement = doc.documentElement;
          var clientWidth = docElement.getBoundingClientRect ? docElement.getBoundingClientRect().width : docElement.clientWidth;

          var docFontSize = 50 + 'px'
          if (clientWidth <= 1200) {
            docFontSize = (clientWidth * dpr) / 7.5 + 'px';
            if (clientWidth < 375 && !isIos && dpr <= 2) {
              docFontSize = (clientWidth * dpr * 1.04167) / 7.5 + 'px';
            }
          }
          metaEl.setAttribute('content', 'width=device-width,user-scalable=no,initial-scale=' + scale + ',maximum-scale=' + scale + ',minimum-scale=' + scale + ',viewport-fit=cover');
          docElement.style.fontSize = docFontSize;
        };
        flex();
      })(window,document);
    </script>
    <script type="text/javascript">
      function isLocalStorageSupported() {
        var testKey = 'test',
          storage = window.sessionStorage;
        try {
          storage.setItem(testKey, 'testValue');
          storage.removeItem(testKey);
          return true;
        } catch (error) {
          return false;
        }
      };
      function appendScript (res) {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.appendChild(document.createTextNode(res));
        document.head.appendChild(script);
      };
      function writeLizard () {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '<%=htmlWebpackPlugin.options.staticPath%>/static/lizard/index.js', false);
        xhr.setRequestHeader("If-Modified-Since","0");
        xhr.setRequestHeader("Cache-Control","no-cache");
        xhr.onreadystatechange = () => {
          if(xhr.readyState == 4){
            if((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304){
              var res = xhr.response;
              if (isLocalStorageSupported()) {
                if (!localStorage.getItem('/static/lizard/index.js')) {
                  if (res && typeof res == 'string') {
                    var cacheTimes = 30 * 24 * 60 * 60 * 1000;
                    var result = {
                      times: new Date().getTime() + cacheTimes,
                      results: res
                    };
                    localStorage.setItem('/static/lizard/index.js', JSON.stringify(result));
                    appendScript(res);
                  } else {
                    appendScript(res);
                  }
                } else {
                  appendScript(res);
                }
              } else {
                appendScript(res);
              }
            } else {
              alert('服务器请求出错');
            }
          }
        }
        xhr.send(null)
      };
      function loadLizardScript () {
        if (isLocalStorageSupported()) {
          var results = localStorage.getItem('/static/lizard/index.js');
          if (results && typeof results == 'string') {
            var res = JSON.parse(results);
            if (res && res.times > new Date().getTime()) {
              appendScript(res.results);
            } else {
              writeLizard();
            }
          } else {
            writeLizard();
          }
        } else {
          writeLizard();
        }
      };
      loadLizardScript();
      if ('serviceWorker' in navigator && location.protocol == 'https:') {
        navigator.serviceWorker.register('/serviceWorker.js?v=<%=htmlWebpackPlugin.options.getTime%>')
      }
      window.__NUXT__ = <%=htmlWebpackPlugin.options.__NUXT__%>;
      window.config = {
        "hostPath": "<%=htmlWebpackPlugin.options.hostPath%>",
        "staticPath": "<%=htmlWebpackPlugin.options.staticPath%>",
        "getTime": <%=htmlWebpackPlugin.options.getTime%>
      }
    </script> 
    <link rel="stylesheet" href="<%=process.env.VUE_APP_STATIC_PATH%>/static/css/main.css?v=<%=htmlWebpackPlugin.options.getTime%>">
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected --> 
    <script type="text/javascript" src="<%=htmlWebpackPlugin.options.staticPath%>/static/??polyfill/index.js?v=1.0.0,utils/index.js?v=1.0.0,ajax/index.js?v=1.0.0,store/index.js?v=1.0.0,request/index.js?v=1.0.0,validate/index.js?v=1.0.0"></script>
    <script type="text/javascript" src="<%=htmlWebpackPlugin.options.staticPath%>/static/??loading/index.js?v=1.0.2,toast/index.js?v=1.0.0,showModal/index.js?v=1.0.0,downloadApp/index.js?v=1.0.0"></script>
    <!-- <script type="text/javascript" src="<%= htmlWebpackPlugin.options.staticPath %>/static/vconsole/index.js"></script>
    <script>
      var vConsole = new VConsole()
    </script> -->
  </body>
</html>
